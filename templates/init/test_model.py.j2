"""Tests for {{ model_name }}."""

import pytest
from ttsdb_core import ModelConfig


class TestConfig:
    """Test config loading."""
    
    def test_config_loads_from_package(self):
        """Config should load from the package."""
        config = ModelConfig.from_package("{{ import_name }}")
        assert config is not None
    
    def test_config_has_metadata(self):
        """Config should have metadata section."""
        config = ModelConfig.from_package("{{ import_name }}")
        assert "metadata" in config
        assert config.metadata.name == "{{ model_name }}"
    
    def test_config_has_sample_rate(self):
        """Config should specify sample rate."""
        config = ModelConfig.from_package("{{ import_name }}")
        assert config.metadata.sample_rate > 0


class TestModelImport:
    """Test model class imports."""
    
    def test_model_class_importable(self):
        """Model class should be importable."""
        from {{ import_name }} import {{ class_name }}
        assert {{ class_name }} is not None
    
    def test_model_has_package_name(self):
        """Model should have _package_name set."""
        from {{ import_name }} import {{ class_name }}
        assert {{ class_name }}._package_name == "{{ import_name }}"


# Uncomment and implement when model is ready for integration tests
# class TestModelSynthesis:
#     """Integration tests for synthesis."""
#     
#     @pytest.fixture
#     def model(self):
#         from {{ import_name }} import {{ class_name }}
#         return {{ class_name }}(model_id="...")
#     
#     def test_synthesize_returns_audio(self, model):
#         audio, sr = model.synthesize(
#             text="Hello world",
#             reference_audio="path/to/reference.wav",
#         )
#         assert audio is not None
#         assert sr > 0
